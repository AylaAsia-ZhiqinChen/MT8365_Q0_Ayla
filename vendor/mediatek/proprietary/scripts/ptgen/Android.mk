LOCAL_PATH := $(call my-dir)

# used by build/core/Makefile
MTK_USERIMAGE_PROP_DICT :=
ifdef BOARD_CUSTOMIMAGE_PARTITION_SIZE
  MTK_USERIMAGE_PROP_DICT += custom_size=$(BOARD_CUSTOMIMAGE_PARTITION_SIZE)
endif
ifeq ($(TARGET_USERIMAGES_USE_EXT4),true)
ifeq ($(MTK_NAND_MTK_FTL_SUPPORT),yes)
  MTK_USERIMAGE_PROP_DICT += mtftl_support=yes
  MTK_USERIMAGE_PROP_DICT += pagesize=$(BOARD_MTFTL_MIN_IO_SIZE)
  MTK_USERIMAGE_PROP_DICT += vid_offset=$(BOARD_MTFTL_VID_HDR_OFFSET)
  MTK_USERIMAGE_PROP_DICT += lebsize=$(BOARD_MTFTL_LOGICAL_ERASEBLOCK_SIZE)
  MTK_USERIMAGE_PROP_DICT += system_cnt=$(BOARD_MTFTL_ANDROID_MAX_LOGICAL_ERASEBLOCK_COUNT)
  MTK_USERIMAGE_PROP_DICT += userdata_cnt=$(BOARD_MTFTL_USRDATA_MAX_LOGICAL_ERASEBLOCK_COUNT)
  MTK_USERIMAGE_PROP_DICT += blocksize=$(BOARD_FLASH_BLOCK_SIZE)
  MTK_USERIMAGE_PROP_DICT += userdata_ini=$(PRODUCT_OUT)/ubi_usrdata.ini
  MTK_USERIMAGE_PROP_DICT += system_ini=$(PRODUCT_OUT)/ubi_android.ini
endif
endif
ifeq ($(TARGET_USERIMAGES_USE_UBIFS),true)
  MTK_USERIMAGE_PROP_DICT += pagesize=$(BOARD_UBIFS_MIN_IO_SIZE)
  MTK_USERIMAGE_PROP_DICT += vid_offset=$(BOARD_UBIFS_VID_HDR_OFFSET)
  MTK_USERIMAGE_PROP_DICT += lebsize=$(BOARD_UBIFS_LOGICAL_ERASEBLOCK_SIZE)
  MTK_USERIMAGE_PROP_DICT += system_cnt=$(BOARD_UBIFS_ANDROID_MAX_LOGICAL_ERASEBLOCK_COUNT)
  MTK_USERIMAGE_PROP_DICT += userdata_cnt=$(BOARD_UBIFS_USRDATA_MAX_LOGICAL_ERASEBLOCK_COUNT)
  MTK_USERIMAGE_PROP_DICT += blocksize=$(BOARD_FLASH_BLOCK_SIZE)
  MTK_USERIMAGE_PROP_DICT += userdata_ini=$(PRODUCT_OUT)/ubi_usrdata.ini
  MTK_USERIMAGE_PROP_DICT += system_ini=$(PRODUCT_OUT)/ubi_android.ini
endif
ifeq ($(MTK_SLC_BUFFER_SUPPORT),yes)
  MTK_USERIMAGE_PROP_DICT += mtslc_support=yes
endif

# scatter file
include $(call all-makefiles-under,$(LOCAL_PATH))
