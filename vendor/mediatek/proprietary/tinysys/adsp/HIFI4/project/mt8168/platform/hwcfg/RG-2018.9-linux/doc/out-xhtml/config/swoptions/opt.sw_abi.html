<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="tconcept"/>
<meta name="DC.Title" content="Application Binary Interfaces"/>
<meta name="DC.Relation" scheme="URI" content="../../config/swoptions/page.software.html"/>
<meta name="DC.Relation" scheme="URI" content="../../config/swoptions/opt.sw_clibs.html"/>
<meta name="DC.Relation" scheme="URI" content="../../config/swoptions/opt.sw_altreset.html"/>
<meta name="DC.Relation" scheme="URI" content="../options/opt.arCount.html"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="opt-sw_abi"/>
<link rel="stylesheet" type="text/css" href="../../commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../../cadence.css"/>
<title>Application Binary Interfaces</title>
</head>
<body id="opt-sw_abi">


    <h1 class="title topictitle1">Application Binary Interfaces</h1>

    <div class="body conbody">
        <dl class="dl">
            
                <dt class="dt dlterm">AR Registers Count</dt>

                <dd class="dd"><span class="ph">64</span></dd>

            
            
                <dt class="dt dlterm">ABI Selection</dt>

                <dd class="dd"><span class="ph">windowed</span></dd>

            
        </dl>

        <p class="p"><span class="ph">Cadence</span> offers the choice of two Application Binary Interfaces
            (ABIs) for Xtensa X and LX processors: the windowed ABI and the CALL0 ABI. Xtensa TX
            processors only support the CALL0 ABI because they only have 16 AR registers. With the
            windowed ABI, each function call is implemented using a CALL4, CALL8 or CALL12
            instruction that rotates the Xtensa register windows and thereby immediately gives the
            called function a set of extra scratch registers. Without the windowed ABI, each
            function call is implemented using a CALL0 instruction and the compiler must typically
            save and restore to memory scratch variables used by the callee. Application code
            compiled using CALL0 is typically 5-10% larger than application compiled using the
            windowed ABI. Performance of loop intensive code is marginally slower with CALL0 while
            more call intensive code is up to 10% slower. At time of writing, CALL0 is only
            supported with the ThreadX RTOS from Express Logic or with the XTOS runtime from <span class="ph">Cadence</span>.</p>

        <p class="p">Given these characteristics, most will use the windowed ABI. However, there are also
            advantages to the CALL0 ABI. The CALL0 ABI enables hardware configurations with only 16
            AR registers, thereby allowing significantly smaller hardware configurations. Interrupt
            and context switching latency is lower with CALL0 than with the windowed ABI. Using the
            CALL0 ABI, you can manually rotate the register files in a single cycle in special code
            or interrupt handlers for very fast specialized context switching.</p>

        <p class="p">An application cannot mix the two ABIs. However, it is possible to use the windowed ABI
            for an application and CALL0 for certain high priority interrupts. The use of CALL0 in
            this context enables interrupt handlers to be written in C without the higher overhead
            of saving and restoring all the AR registers.</p>

    </div>

    <div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../config/swoptions/page.software.html" title="Configuration options which only affect the target software">Software Configuration Options</a></div>
<div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="../../config/swoptions/opt.sw_clibs.html" title="Cadence offers the choice of three C and math libraries: newlib from Red Hat, Inc., the Xtensa C library and uClibc">C and Math Libraries</a></div>
<div class="nextlink"><strong>Next topic:</strong> <a class="link" href="../../config/swoptions/opt.sw_altreset.html">Build with Reset Handler at Alternate Reset Base</a></div>
</div>
<div class="relinfo"><strong>Related information</strong><br/>
<div><a class="link" href="../options/opt.arCount.html" title="Number of physical AR registers. Setting to 16 registers means windowed calls are not supported">AR Registers Count</a></div>
</div>
</div>

</body>
</html>