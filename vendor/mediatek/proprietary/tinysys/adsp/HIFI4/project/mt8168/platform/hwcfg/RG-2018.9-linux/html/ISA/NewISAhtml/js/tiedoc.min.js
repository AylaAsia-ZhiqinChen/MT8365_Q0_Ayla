function match(e,t){var r=new RegExp(t),o=r.exec(e);return!!o}function getTiedocContent(e,t,r){if(!(e in tiedoc))return"";var o=tiedoc[e];if(!(t in o))return"";var n=o[t];return r in n?n[r]:""}function hasElem(e,t){return e in tiedoc?t in tiedoc[e]:!1}function genHyperLink(e,t,r){return hasElem(e,t)?"<a href='#/"+e+"/"+t+"'>"+r+"</a>":r}function getFormatSize(e){return formatTable[e].size}function formatIndexToSlotIndex(e,t,r){for(var o=slotTable[t][e],n=0;n<o.length;n++)if(r==o[n])return n;return-1}function getTagDescendant(e){var t={};t[e]=0;for(var r in tagChildrenTable[e]){t[r]=0;var o=getTagDescendant(r);jQuery.extend(t,t,o)}return t}function getCatElemByTag(e,t){var r=getTagDescendant(t),o=tiedoc[e];if("__All"==t)return o;var n={};for(var i in o){var a=getTiedocContent(e,i,"tags");for(var l in a)l in r&&(n[i]=0)}return n}function getElemCount(e,t){return elemCount[e][t]}function genCatSideMenuItem(e,t,r){var o="",n=getElemCount(e,r);if(0==n)return o;if(jQuery.isEmptyObject(tagChildrenTable[r]))o+="<li><a href='#/"+e+"/__"+r+"' class='tie-menu-item'>"+r+"<span class='badge'>"+n.toString()+"</span><p class='tie-menu-synopsis'>"+getTiedocContent("Group",r,"syn")+"</p></a><div class='mp-level' tie-doc-url='"+e+"/__"+r+"'>    <h2>"+r+"</h2>    <div class='tie-menu-side-tag'>"+makeSpanName(r)+"</div></div></li>";else{o+="<li class='tie-icon-left'>    <a href='#/"+e+"/__"+r+"' class='tie-menu-item'>"+r+"        <span class='badge'>"+n.toString()+"</span>        <p class='tie-menu-synopsis'>"+getTiedocContent("Group",r,"syn")+"</p>    </a>    <div class='mp-level' tie-doc-url='"+e+"/__"+r+"'>        <h2>"+r+"</h2>        <div class='tie-menu-side-tag'>"+makeSpanName(r)+"</div>        <ul>";for(var i in tagChildrenTable[r])o+=genCatSideMenuItem(e,r,i);o+="        </ul>    </div></li>"}return o}function genCatSideMenu(e,t){var r="<div class='mp-level' tie-doc-url='"+e+"/__All'><h2>"+getDisplayName(e)+"s</h2><div class='tie-menu-side-tag'>"+makeSpanName(getDisplayName(e)+"s")+"</div><ul>    <li>        <a href='#/"+e+"/__All' ng-click='selectTag(cat, 'All')' class='tie-menu-item'>            All            <span class='badge'>"+getElemCount(e,"__All").toString()+"</span>        </a>    </li>";for(var o in tagChildrenTable.__All)r+=genCatSideMenuItem(e,"",o);return r+="</ul><div>"}function makeSpanName(e){return 0==e.length?"":"<span>"+e.split("").join("</span><span>")+"</span>"}function getFilterArgTypes(e,t,r){for(var o={},n=0;n<t.length;n++){var i=t[n],a=getTiedocContent(e,i,"args");for(var l in a){var c=a[l][0],s=a[l][1];""!=c&&("inout"!=s&&s!=r||(o[c]=0))}}return Object.keys(o).sort()}function getFilterStateArgTypes(e,t,r){if("Opcode"!=e)return{};for(var o={},n=0;n<t.length;n++){var i=t[n],a=getTiedocContent(e,i,"states");for(var l in a){var c=a[l];"inout"!=c&&c!=r||(o[l]=0)}}return Object.keys(o).sort()}function genFilterArgTable(e,t){for(var r=getFilterArgTypes(e,t,"in"),o=getFilterArgTypes(e,t,"out"),n=getFilterStateArgTypes(e,t,"in"),i=getFilterStateArgTypes(e,t,"out"),a="<tr> <th></th><th>In</th> <th>Out</th> </tr>",l=Math.max(r.length,o.length),c=0;l>c;c++)a+="<tr>",a+="<td>",0==c&&"Opcode"==e&&(a+="Regfile: "),a+="</td><td>",c<r.length&&(a+="<input type='checkbox' class='tieFilterArgIn' id='tieInArg"+r[c]+"' />"+r[c]),a+="</td>",a+="<td>",c<o.length&&(a+="<input type='checkbox' class='tieFilterArgOut' id='tieOutArg"+o[c]+"' />"+o[c]),a+="</td>",a+="</tr>";for(maxlen=Math.max(n.length,i.length),maxlen>0&&(a+="<tr><td class='tie-bottom-border'></td><td class='tie-bottom-border'></td><td class='tie-bottom-border'></td></tr>",a+="<tr><td class='tie-top-border'></td><td class='tie-top-border'></td><td class='tie-top-border'></td></tr>"),c=0;c<maxlen;c++)a+="<tr>",a+="<td>",0==c&&"Opcode"==e&&(a+="State: "),a+="</td><td>",c<n.length&&(a+="<input type='checkbox' class='tieFilterArgIn' id='tieInArg"+n[c]+"' />"+n[c]),a+="</td>",a+="<td>",c<i.length&&(a+="<input type='checkbox' class='tieFilterArgOut' id='tieOutArg"+i[c]+"' />"+i[c]),a+="</td>",a+="</tr>";return a}function filterOneElem(e,t,r,o){if(o.name){var n=new RegExp(o.name,"i"),i=n.exec(t);if(!i)return!1}if(jQuery.isEmptyObject(o["in"])&&jQuery.isEmptyObject(o.out))return!0;var a=r.args,l={},c={};for(var s in a){var d=a[s][1],p=a[s][0];"in"===d?p in o["in"]&&(l[p]=0):"out"===d?p in o.out&&(c[p]=0):(p in o["in"]&&(l[p]=0),p in o.out&&(c[p]=0))}if("Opcode"==e){var g=r.states;for(var f in g)"in"===g[f]?f in o["in"]&&(l[f]=0):"out"===g[f]?f in o.out&&(c[f]=0):(f in o["in"]&&(l[f]=0),f in o.out&&(c[f]=0))}var u=function(e){return Object.keys(e).length};return u(l)==u(o["in"])&&u(c)==u(o.out)}function tiedocCtrl(e,t,r){function o(){var e="",t=[],r=[];return $(".tieFilterArgIn").each(function(e){if(this.checked){var r=this.id.slice(8,this.id.length);t.push(r)}}),$(".tieFilterArgOut").each(function(e){if(this.checked){var t=this.id.slice(9,this.id.length);r.push(t)}}),e=t.join("&"),e+="&&",e+=r.join("&"),e=$("#tieFilterName").val().replace(/\\/g,"`")+"&&"+e,"&&&&"==e&&(e=""),e}if(e.genFilter=genFilter,e.tiedoc=tiedoc,e.getDisplayName=getDisplayName,e.getSynopsis=function(t,r){return"Opcode"==t&&e.opcodeIsCore(r)?e.getCoreOpcodeContent(r,"syn"):getTiedocContent(t,r,"syn")},e.getDescription=function(t,r){return"Opcode"==t&&e.opcodeIsCore(r,"Description")?e.getCoreOpcodeContent(r,"Description"):getTiedocContent(t,r,"desc")},e.genSideMenu=function(e){var t="<h2>"+e+"</h2><div class='tie-menu-side-tag'>"+makeSpanName(e)+"</div>";t+="<ul>";for(var r in tiedoc)"Group"!=r&&"TitlePage"!=r&&(t+="<li class='tie-icon-left'><a href='#/"+r+"/__All' class='tie-menu-item'>"+getDisplayName(r)+"s</a>"+genCatSideMenu(r)+"</li>");return t+="<li><a href='#/__comp_matrix' class='tie-menu-item'>Instruction Slotting</a></li>",tiedocSignalList&&(t+="<li><a href='#/__signal_list' class='tie-menu-item'>Signal List</a></li>"),t+="</ul>"},e.selectedTag="",e.selectedCat="",e.selectedElem="",e.selectedFilterItem="",t.category&&(e.selectedCat=t.category,"Operation"==e.selectedCat&&(e.selectedCat="Opcode")),t.tag&&(e.selectedTag=t.tag),t.elem&&(e.selectedElem=t.elem),e.hasElement=function(){return hasElem(e.selectedCat,e.selectedElem)},e.genNotExist=function(e,t){return getDisplayName(e)+" <i>"+t+"</i> does not exist in the current configuration."},e.genHomePage=function(){var e="",t="";if("TitlePage"in tiedoc)for(var r in tiedoc.TitlePage){e=r,t=tiedoc.TitlePage[r].desc;break}var o="<h3>"+coreInfo.name+"</h3>";return e&&(o+="<b> Config Name: </b>"+e+"<br/>"),o+="<b> Target hardware version: </b>"+coreInfo.hwVersion+"<br/><br/>",o+=t},e.opcodeIsCore=function(e){var t=getTiedocContent("Opcode",e,"gen")&&e in tiedoc_core;return t},e.getCoreOpcodeContent=function(e,t){if(!(e in tiedoc_core))return"";var r=tiedoc_core[e];return t in r?r[t]:""},e.setCatTagElem=function(t,r,o){e.selectedTag=r,e.selectedCat=t,e.selectedElem=o},e.getAllCatTagElemList=function(){var t=e.selectedTag;"All"==e.selectedTag&&(t="__All");var r=Object.keys(getCatElemByTag(e.selectedCat,t));return r.sort(),r},e.getElemList=function(){var t=e.selectedTag;"All"==e.selectedTag&&(t="__All");var r=null;if("Proto"==e.selectedCat||"Opcode"==e.selectedCat){r={};var o=getCatElemByTag(e.selectedCat,t);for(var n in o){var i=n.split(".").join("_");(filterOneElem(e.selectedCat,i,tiedoc[e.selectedCat][n],e.filters)||filterOneElem(e.selectedCat,n,tiedoc[e.selectedCat][n],e.filters))&&(r[n]=0)}r=Object.keys(r)}else r=Object.keys(getCatElemByTag(e.selectedCat,t));return r.sort(),r},e.selectElem=function(t){e.selectedElem=t},e.getMaxOpcodeScheduleCount=function(t){var r=getTiedocContent(e.selectedCat,t,"sched"),o=void 0==r["in"]?0:r["in"].length,n=void 0==r.out?0:r.out.length;return o>n?o:n},e.getOpcodeSchedule=function(t,r,o){var n=getTiedocContent(e.selectedCat,t,"sched"),i=r?n.out:n["in"];return i.length>o?i[o]:["",""]},e._range=function(e){return new Array(e)},e.getOpcodeUseProtos=function(t){var r=getTiedocContent(e.selectedCat,t,"protos");return r.sort()},e.genEncodingTableIndex=function(e,t){for(var r=e.toString(),o=(e-t-1).toString(),n=r.length,i=o.length,a="";n>i;)a+="<br />",n-=1;for(var l=0;i>l;l++)a=a+o[l]+"<br/>";return a},e.getOpcodeSlotList=function(e){return getTiedocContent("Opcode",e,"slots")},e.getSlotFormats=function(e){return Object.keys(slotTable[e])},e.opcodeSlotListOrderedBySlotIndex=!1,e.setOpcodeSlotListOrderedBySlotIndex=function(t,r){t.preventDefault(),e.opcodeSlotListOrderedBySlotIndex=r},e.getSlotIndex=function(e,t){for(var r=-1,o=formatTable[e].slots,n=0;n<o.length;n++)if(t==o[n].name){r=n;break}return r},e.getOpcodeSlotListOrdered=function(t){var r=Object.keys(e.getOpcodeSlotList(t)),o=[];return r.forEach(function(t){var r=e.getSlotFormats(t);r.forEach(function(e){o.push({format:e,slot:t})})}),e.opcodeSlotListOrderedBySlotIndex?o.sort(function(t,r){var o=e.getSlotIndex(t.format,t.slot),n=e.getSlotIndex(r.format,r.slot);return o!=n?o-n:t.format.localeCompare(r.format)}):o.sort(function(e,t){return 0==e.format.localeCompare(t.format)?e.slot.localeCompare(t.slot):e.format.localeCompare(t.format)}),o},e.getOpcodeMaxFormatLength=function(t){var r=0,o=e.getOpcodeSlotList(t);for(var n in o){var i=e.getSlotFormats(n);i.forEach(function(e){var t=getFormatSize(e);t>r&&(r=t)})}return r},e.getOpcodeMaxSlotLength=function(t){var r=0,o=e.getOpcodeSlotList(t);for(var n in o){var i=o[n].mask.length;i>r&&(r=i)}return r},e.getOpcodeOperands=function(e){var t=getTiedocContent("Opcode",e,"slots");for(var r in t)return t[r].operands},e.getOpcodeOperandIndex=function(t,r){var o=e.getOpcodeOperands(t),n=0;for(var i in o){if(r===i)return n;n++}},e.getOpcodeOperandBitIndex=function(e,t,r,o){for(var n=getTiedocContent("Opcode",t,"slots"),i=n[e],a=i.operands,l=a[r],c=0;c<l.length;c++)if(o==l[c])return l.length-c-1;return-1},e.OPCODE_OPERAND_COLOR_SHIFT=2,e.getColorByIndex=function(e){var t=["#777","#5bc0de","#d9534f","#f0ad4e","#5cb85c","#e6e600","#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff"];return t[e%t.length]},e.getOpcodeFormatEncodingBitColor=function(t,r,o,n){if(n>=formatTable[t].size)return e.getColorByIndex(0);var i=e.getOpcodeSlotList(o),a=i[r],l=a.mask.split("").reverse(),c=formatIndexToSlotIndex(t,r,n);if(0>c)return"";if("1"==l[c])return e.getColorByIndex(1);var s=e.getOpcodeOperands(o);for(var d in s){var p=e.getOpcodeOperandBitIndex(r,o,d,c);if(p>=0)return e.getColorByIndex(e.getOpcodeOperandIndex(o,d)+e.OPCODE_OPERAND_COLOR_SHIFT)}return""},e.getOpcodeSlotEncodingBitColor=function(t,r,o){var n=e.getOpcodeSlotList(r),i=n[t].mask.split("").reverse();if(o>=i.length)return e.getColorByIndex(0);if("1"==i[o])return e.getColorByIndex(1);var a=n[t].operands;for(var l in a)if(jQuery.inArray(o,a[l])>=0)return e.getColorByIndex(e.getOpcodeOperandIndex(r,l)+e.OPCODE_OPERAND_COLOR_SHIFT);return""},e.getOpcodeFormatEncodingBitValue=function(t,r,o,n){var i=e.getOpcodeSlotList(o),a=i[r],l=a.mask.split("").reverse(),c=a.code.split("").reverse(),s=formatIndexToSlotIndex(t,r,n);if(0>s)return"";if("1"==l[s])return c[s];var d=e.getOpcodeOperands(o);for(operand in d){var p=e.getOpcodeOperandBitIndex(r,o,operand,s);if(p>=0)return p}return""},e.getOpcodeSlotEncodingBitValue=function(t,r,o){var n=e.getOpcodeSlotList(r),i=n[t].mask.split("").reverse(),a=n[t].code.split("").reverse();if("1"==i[o])return a[o];var l=n[t].operands;for(operand in l){var c=l[operand],s=jQuery.inArray(o,c);if(s>=0)return c.length-s-1}return""},e.genOpcodeFormatEncodingBody=function(t){var r="",o=e.getOpcodeMaxFormatLength(t),n=e.getOpcodeSlotListOrdered(t);return n.forEach(function(n){var i=n.format,a=n.slot;r+="<tr>",r+="<td>"+genHyperLink("Format",i,i)+" - "+a+"</td>";for(var l=0;o>l;l++)r+="<td style='background-color: "+e.getOpcodeFormatEncodingBitColor(i,a,t,o-l-1)+"'>",r+=e.getOpcodeFormatEncodingBitValue(i,a,t,o-l-1),r+="</td>";r+="</tr>"}),r},e.genOpcodeSlotEncodingBody=function(t){var r="",o=Object.keys(e.getOpcodeSlotList(t)),n=e.getOpcodeMaxSlotLength(t);return o.forEach(function(o){r+="<tr>",r+="<td>";var i=e.getSlotFormats(o);1==i.length?r+=genHyperLink("Format",i[0],i[0]):(r+="{",i.forEach(function(e,t){t>0&&(r+=", "),r+=genHyperLink("Format",e,e)}),r+="}"),r+=" - "+o+"</td>";for(var a=0;n>a;a++)r+="<td style='background-color: "+e.getOpcodeSlotEncodingBitColor(o,t,n-a-1)+"'>",r+=e.getOpcodeSlotEncodingBitValue(o,t,n-a-1),r+="</td>";r+="</tr>"}),r},e.getOpcodeAssemblySyntax=function(e){var t="<b>"+e+"</b> ",r=getTiedocContent("Opcode",e,"args"),o=!0;for(var n in r){t+=(o?"":", ")+n;var i=r[n][0];if(i in immediateRangeTable){var a=immediateRangeTable[i];t+=" /* low: "+a.low+" high: "+a.high+" step: "+a.step+" */"}o=!1}return t},e.opcodeHasCSyntax=function(e){var t=getTiedocContent("Opcode",e,"csyn");return!!t},e.getOpcodeCSyntax=function(e){var t=getTiedocContent("Opcode",e,"header"),r=getTiedocContent("Opcode",e,"csyn");return"#include &lt;xtensa/tie/"+t+"&gt;\n"+r},e.protoHasDoc=function(e){return tiedoc.Proto&&e in tiedoc.Proto},e.genProtoInstrSequence=function(e){var t="<h3>Instruction Sequence</h3><pre class='tie-proto-seq'>";t+="proto "+e+" {";var r=getTiedocContent("Proto",e,"args"),o=!0;for(var n in r){var i=r[n][0],a=r[n][1];o||(t+=", "),t+=a+" "+genHyperLink("Ctype",i,i)+" "+n,o=!1}t+="} {";var l=getTiedocContent("Proto",e,"temps");o=!0;for(var c in l)i=l[c],o||(t+=", "),t+=genHyperLink("Ctype",i,i)+" "+c,o=!1;t+="} {<br/>";for(var s=getTiedocContent("Proto",e,"codes"),d=0;d<s.length;d++){var p=s[d],g=p[0];o=!0,t+="&nbsp;&nbsp;&nbsp;&nbsp;"+genHyperLink("Opcode",g,g),t+=" ";for(var f=1;f<p.length;f++){var u=p[f];o||(t+=", "),t+=u,o=!1}t+=";<br />"}return t+="}</pre>"},e.genProtoPage=function(t){var r="",o=getTiedocContent("Proto",t,"csyn");return""!==o&&(r+="<h3>C Syntax</h3>",r+="<pre>#include &lt;xtensa/tie/"+getTiedocContent("Proto",t,"header")+"&gt;\n"+getTiedocContent("Proto",t,"csyn")+"</pre>"),r+=e.genProtoInstrSequence(t)},e.getTagDescription=function(e){return getTiedocContent("Group",e,"desc")},e.filters={"in":{},out:{},name:""},t.filterItem){e.selectedFilterItem=t.filterItem;for(var n=e.selectedFilterItem,i=n.split("&&"),a=i[1].split("&"),l=0;l<a.length;l++)a[l]&&(e.filters["in"][a[l]]=0);for(var c=i[2].split("&"),l=0;l<c.length;l++)c[l]&&(e.filters.out[c[l]]=0);e.filters.name=i[0].replace(/`/g,"\\")}e.genFilterArgTable=genFilterArgTable,e.filterArgClearAll=function(t){t.preventDefault(),$(".tieFilterArgIn").each(function(e){$(this).attr("checked",!1)}),$(".tieFilterArgOut").each(function(e){$(this).attr("checked",!1)}),e.setFilterText()},e.filterSubmit=function(e){var t=o();$("#dropdownMenuFilterDiv").removeClass("open"),$("#dropdownMenuFilter").attr("aria-expanded","false");var r=new RegExp("#/[^/]*/[^/]*"),n=r.exec(window.location.hash),i=n[0]+"/"+t;window.location.hash=i},e.setFilterText=function(){var e=function(){var e=!0;return $(".tieFilterArgIn").each(function(t){this.checked&&(e=!1)}),$(".tieFilterArgOut").each(function(t){this.checked&&(e=!1)}),e};e()?($("#tieFilterText").text(""),$("#tieFilterText").append("with <i>any</i> of the following arguments:")):($("#tieFilterText").text(""),$("#tieFilterText").append("with <i>all</i> of the following <i>selected</i> arguments:"))},e.genSignalListPage=function(){var e="";for(var t in tiedocSignalList){e+="<h3>"+t+"</h3>",e+='<table class="table table-stripped">',e+="<thead> <tr> <th>Signal Name</th> <th>Width</th> <th>Direction</th> </tr> </thead>",e+="<tbody>";var r=tiedocSignalList[t];for(var o in r)e+="<tr> <td>"+o+"</td>",e+="<td>"+r[o].width+"</td>",e+="<td>"+r[o].dir+"</td>",e+="</tr>";e+="</tbody>",e+="</table>"}return e},e.genCompMatrix=function(){var t="<table class='table table-bordered table-hover'            <thead><tr><th rowspan='2'>Opcode</th>",r=Object.keys(formatTable).sort(function(e,t){var r={x16a:10,x16b:100,x24:1e3};return e in r&&t in r?r[e]-r[t]:e in r&&!(t in r)?-1:!(e in r)&&t in r?1:e.localeCompare(t)});r.forEach(function(e,r){var o=formatTable[e].slots.length;t+="<th colspan='"+o+"'"+(r%2?"":" class='tie-table-comp-matrix-color'")+">"+genHyperLink("Format",e,e)+"</th>"}),t+="</tr><tr>",r.forEach(function(e,r){nSlots=formatTable[e].slots.length;for(var o=0;o<nSlots;o++)t+="<th"+(r%2?"":" class='tie-table-comp-matrix-color'")+">"+o+"</th>"}),t+="</tr></thead><tbody>";var o={};for(var n in tiedoc.Opcode){var i=tiedoc.Opcode[n].slots,o={};for(var a in i){var l=e.getSlotFormats(a);l.forEach(function(t){var r=e.getSlotIndex(t,a);t in o||(o[t]={}),o[t][r]=1})}t+="<tr>",t+="<td><a href='#Opcode/"+n+"'>"+n+"</a></td>",r.forEach(function(e,r){for(var n=formatTable[e].slots.length,i=0;n>i;i++)t+="<td"+(r%2?"":" class='tie-table-comp-matrix-color'")+">",e in o&&i in o[e]&&(t+="Y"),t+="</td>"}),t+="</tr>"}return t},e.genCtypePage=function(){var t=e.selectedElem,r="<h3> Parameters </h3><p><b>Size:</b>"+getTiedocContent("Ctype",t,"size").toString()+"</p><p><b>Alignment:</b>"+getTiedocContent("Ctype",t,"align").toString()+"</p><p><b>Regfile:</b>"+getTiedocContent("Ctype",t,"regfile")+"</p>",o=getTiedocContent("Ctype",t,"operators");if(o){r+="<h3> Operators </h3><table class='table table-bordered table-hover'><thead><tr><td>Operator</td><td>Expression</td><td>Proto</td></tr></thead><tbody>";for(var n=0;n<o.length;n++){var i=o[n];r+="<tr><td>"+i.operator+"</td><td><pre>";var a=i.args;r+=genHyperLink("Ctype",a[0],a[0])+" = ",r+=3==a.length?genHyperLink("Ctype",a[1],a[1])+" "+i.operator+" "+genHyperLink("Ctype",a[2],a[2]):i.operator+genHyperLink("Ctype",a[1],a[1]),r+="</pre></td><td>";var l=i.proto;r+=genHyperLink("Proto",l,l),r+="</td></tr>"}r+="</tbody></table>"}return r},e.genFormatPage=function(){for(var t="",r=[],o=e.selectedElem,n=formatTable[o].slots,i=0;i<n.length;i++){var a=n[i].name;r.push(a)}var t="<h3>Encoding</h3>";t+='<table class="tie-table-legend"><tbody><tr>',r.forEach(function(r,o){t+='<td><span class="glyphicon glyphicon-stop" style="color: '+e.getColorByIndex(o+1)+'"></span>'+r+"</td>"}),t+="</tr></tbody></table>",t+="<table class='tie-table-encoding'><thead><tr>",t+="<th></th>";var l=formatTable[o].size;for(i=0;l>i;i++)t+="<th>"+e.genEncodingTableIndex(l,i)+"</th>";t+="</tr></thead><tbody>",t+="<tr><td>Format Encoding</td>";var c=formatTable[o].encoding.mask.split("").reverse().join(""),s=formatTable[o].encoding.code.split("").reverse().join("");for(i=l-1;i>=0;i--)t+="<td>","1"==c[i]&&(t+=s[i]),t+="</td>";t+="</tr>";var d={};for(formatTable[o].slots.forEach(function(e){e.bits.forEach(function(t,r){d[t]={slot:e.name,index:r}})}),t+="<tr>",t+="<td>Slot Encoding</td>",i=l-1;i>=0;i--){if(i in d){a=d[i].slot;for(var p=0;p<r.length&&a!=r[p];p++);t+="<td style='background-color: "+e.getColorByIndex(p+1)+"'> ",t+=d[i].index}else t+="<td>";t+="</td>"}t+="</tr></tbody></table>",t+="<h3>Slots</h3><table class='table table-bordered table-hover tie-table-impl-pipe'><thead><tr>";var g=0;for(i=0;i<r.length;i++)a=r[i],t+="<th"+(i%2?"":" class='tie-table-comp-matrix-color'")+">"+a+"</th>",slotToOpcodeTable[a].length>g&&(g=slotToOpcodeTable[a].length);t+="</tr></thead><tbody>";for(var f=0;g>f;f++)for(t+="<tr>",i=0;i<r.length;i++)a=r[i],slotOpcodes=slotToOpcodeTable[a],t+=slotOpcodes.length>f?"<th"+(i%2?"":" class='tie-table-comp-matrix-color'")+">"+genHyperLink("Opcode",slotOpcodes[f],slotOpcodes[f])+"</th>":"<th"+(i%2?"":" class='tie-table-comp-matrix-color'")+"></th>";return t+="</tbody></table>"},e.onClickBypassAccordion=function(e){e.preventDefault()},e.genRegfilePageOperandBypassOneGroup=function(e,t){var r="";r+="<div class='panel panel-default'>",r+="<div class='panel-heading' role='tab' id='heading"+t+"'>",r+="<h4 class='panel-title'>",r+="<a class='tie-no-default tie-clickable' role='button' data-toggle='collapse' data-parent='#accordion' href='#collapse"+t+"' aria-expanded='false' aria-controls='collapse"+t+"'>";var o=e[t];r+="<b>Group "+(t+1)+"</b>: from write port <i>"+o.port[0]+"</i> stage "+o.stage[0]+" to read port <i>"+o.port[1]+"</i> stage "+o.stage[1],r+="</a></h4></div>",r+="<div id='collapse"+t+"' class='panel-collapse collapse' role='tabpanel' aria-labelledby='heading"+t+"'>",r+="<div class='panel-body'>",r+="<table class='table'>",r+="<tr><th>From (Instruction, operand, slot index)</th><th>To (Instruction, operand, slot index)</th></tr>",r+="<tr>",r+="<td>";var n=function(e,o){var n=e[0],i=t+"_";if(i+=o?"from":"to",i+="_",n in instGroups){var a=instGroups[n];r+="<a class='tie-no-default' role='button' data-toggle='collapse' href='#collapseGroup"+i+n+"' aria-expanded='false' aria-controls='collapse"+n+"'>",r+="<pre class='tie-clickable'><b>"+genHyperLink("Opcode",n,n)+", "+e[1]+", "+e[2]+" (instruction group)</b></pre>",r+="</a>",r+="<div class='collapse' id='collapseGroup"+i+n+"'>";for(var l in a)r+="<pre class='tie-group-indent'>"+genHyperLink("Opcode",l,l)+", "+e[1]+", "+e[2]+"</pre>";r+="</div>"}else r+="<pre>"+genHyperLink("Opcode",e[0],e[0])+", "+e[1]+", "+e[2]+"</pre>"},i=function(e){n(e,!0)},a=function(e){n(e,!1)};return o.from.forEach(i),r+="</td><td>",o.to.forEach(a),o.sw_free_riders.forEach(function(e){r+="<pre>"+genHyperLink("Opcode",e[0],e[0])+", "+e[1]+", "+e[2]+" (free rider)</pre>"}),o.hw_free_riders.forEach(function(e){r+="<pre class='tie-hw-bypass'>"+genHyperLink("Opcode",e[0],e[0])+", "+e[1]+", "+e[2]+" (free rider)</pre>"}),r+="</td>",r+="</tr>",r+="</table>",r+="</div></div></div>"},e.genRegfilePage=function(){var t="<h3>Basic Information</h3>";if(t+="<p><b>Width: </b>"+getTiedocContent("Regfile",e.selectedElem,"width")+"</p>",t+="<p><b>Depth: </b>"+getTiedocContent("Regfile",e.selectedElem,"depth")+"</p>",t+="<h3>Bypasses</h3>",getTiedocContent("Regfile",e.selectedElem,"has_late_bypass"))t+="This register file is fully bypassed.";else{var r=getTiedocContent("Regfile",e.selectedElem,"operand_bypasses");if(r.length>0){t+="This register file has selective late bypasses.",t+="<h4> Operand-to-operand bypasses </h4>",t+="<div class='panel-group' id='accordion' role='tablist' aria-multiselectable='true'>";for(var o=0;o<r.length;o++)t+=e.genRegfilePageOperandBypassOneGroup(r,o);t+="</div>"}else t+="This register file does not have late bypasses."}return t},e.genOpcodeBypasses=function(e){var t="";t+="<h3> Register File Bypasses </h3>";var r=getTiedocContent("Opcode",e,"args"),o=tiedoc.Regfile,n=instBypassTable[e],i={};for(var a in r)if("in"!==r[a][1]){var l=r[a][0];l in o&&(l in i||(i[l]=[]),i[l].push(a))}for(var l in i){t+="<h4> Regfile: "+genHyperLink("Regfile",l,l)+"</h4>",t+="<div class='panel-group' id='accordion' role='tablist' aria-multiselectable='true'>";var c=i[l].sort();c.forEach(function(e){if(o[l].has_late_bypass)return void(t+="<p><b>From operand "+e+":</b> Operand has direct bypasses to all input operands of the regfile.</p>");if(!(n&&l in n&&e in n[l]))return void(t+="<p><b>From operand "+e+":</b> Operand does not have direct bypasses.</p>");var r=n[l][e],i=[],a=[];r.forEach(function(e){var t=getTiedocContent("Regfile",l,"operand_bypasses"),r=t[e].to;r.forEach(function(e){i.push(e[0])}),r=t[e].hw_free_riders,r.forEach(function(e){a.push(e[0])})}),t+="<div class='panel panel-default'>",t+="<div class='panel-heading' role='tab' id='heading_"+l+"_"+e+"'>",t+="<h4 class='panel-title'>",t+="<a class='tie-no-default tie-clickable' role='button' data-toggle='collapse' data-parent='#accordion' href='#collapse_"+l+"_"+e+"' aria-expanded='false' aria-controls='collapse_"+l+"_"+e+"'>",t+="From operand "+e+": ",t+="</a>",t+="</h4>",t+="</div>",t+="<div id='collapse_"+l+"_"+e+"' class='panel-collapse collapse' role='tabpanel'aria-labelledby='heading_"+l+"_"+e+"'>",t+="<div class='panel-body'>",t+="<table class='table'>";var c={};i.forEach(function(e){if(e in instGroups){var r=instGroups[e];for(var o in r)o in c||(t+="<tr><td><pre> "+genHyperLink("Opcode",o,o)+"</pre></td>",c[o]=0,t+="<td>"+getTiedocContent("Opcode",o,"syn")+"</td></tr>")}else e in c||(t+="<tr><td><pre> "+genHyperLink("Opcode",e,e)+"</pre></td>",c[e]=0,t+="<td>"+getTiedocContent("Opcode",e,"syn")+"</td></tr>")}),a.forEach(function(e){e in c||(t+="<tr><td><pre> "+genHyperLink("Opcode",e,e)+" (free rider)</pre></td>",c[e]=0,t+="<td>"+getTiedocContent("Opcode",e,"syn")+"</td></tr>")}),t+="</table>",t+="</div>",t+="</div>",t+="</div>"}),t+="</div>"}return t},r(function(){if(gHasPushMenuInited||(new mlPushMenu(document.getElementById("mp-menu"),document.getElementById("trigger")),gHasPushMenuInited=!0),$(".tieFilterArgIn").change(e.setFilterText),$(".tieFilterArgOut").change(e.setFilterText),e.setFilterText(),t.filterItem){for(var r in e.filters["in"])$("#tieInArg"+r).prop("checked",!0);for(var r in e.filters.out)$("#tieOutArg"+r).prop("checked",!0);$("#tieFilterName").val(e.filters.name)}$("a.tie-no-default").click(function(e){e.preventDefault()}),$("div.tie-startup").addClass("tie-loading-spinner-stopped")})}var gHasPushMenuInited=!1;!function(){var e=tiedoc.Opcode;for(var t in e)if(e[t].gen){if(match(t,"XSR..*")){var r=tiedoc_core["XSR.*"];tiedoc_core[t]=JSON.parse(JSON.stringify(r)),tiedoc_core[t]["Assembler Syntax"]=t+" at"}else if(match(t,"WUR..*")){var r=tiedoc_core["WUR.*"];tiedoc_core[t]=JSON.parse(JSON.stringify(r)),tiedoc_core[t]["Assembler Syntax"]=t+" at"}else if(match(t,"RSR..*")){var r=tiedoc_core["RSR.*"];tiedoc_core[t]=JSON.parse(JSON.stringify(r)),tiedoc_core[t]["Assembler Syntax"]=t+" at"}else if(match(t,"RUR..*")){var r=tiedoc_core["RUR.*"];tiedoc_core[t]=JSON.parse(JSON.stringify(r)),tiedoc_core[t]["Assembler Syntax"]=t+" at"}else if(match(t,"WSR..*")){var r=tiedoc_core["WSR.*"];tiedoc_core[t]=JSON.parse(JSON.stringify(r)),tiedoc_core[t]["Assembler Syntax"]=t+" at"}else if(match(t,"MULA.AA..*")){var r=tiedoc_core["MULA.AA.*"];tiedoc_core[t]=JSON.parse(JSON.stringify(r))}else if(match(t,"MUL.AA..*")){var r=tiedoc_core["MUL.AA.*"];tiedoc_core[t]=JSON.parse(JSON.stringify(r))}else if(match(t,"MUL.DD..*")){var r=tiedoc_core["MUL.DD.*"];tiedoc_core[t]=JSON.parse(JSON.stringify(r))}else if(match(t,"MUL.AD..*")){var r=tiedoc_core["MUL.AD.*"];tiedoc_core[t]=JSON.parse(JSON.stringify(r))}else if(match(t,"MULA.DA..*")){var r=tiedoc_core["MULA.DA.*"];tiedoc_core[t]=JSON.parse(JSON.stringify(r))}else if(match(t,"MULS.DA..*")){var r=tiedoc_core["MULS.DA.*"];tiedoc_core[t]=JSON.parse(JSON.stringify(r))}else if(match(t,"MULA.DA..*.LDINC")){var r=tiedoc_core["MULA.DA.*.LDINC"];tiedoc_core[t]=JSON.parse(JSON.stringify(r))}else if(match(t,"MULS.AD..*")){var r=tiedoc_core["MULS.AD.*"];tiedoc_core[t]=JSON.parse(JSON.stringify(r))}else if(match(t,"UMUL.AA..*")){var r=tiedoc_core["UMUL.AA.*"];tiedoc_core[t]=JSON.parse(JSON.stringify(r))}else if(match(t,"MULA.DD..*")){var r=tiedoc_core["MULA.DD.*"];tiedoc_core[t]=JSON.parse(JSON.stringify(r))}else if(match(t,"MULA.DD..*.LDINC")){var r=tiedoc_core["MULA.DD.*.LDINC"];tiedoc_core[t]=JSON.parse(JSON.stringify(r))}else if(match(t,"MULS.AA..*")){var r=tiedoc_core["MULS.AA.*"];tiedoc_core[t]=JSON.parse(JSON.stringify(r))}else if(match(t,"MULS.DD..*")){var r=tiedoc_core["MULS.DD.*"];tiedoc_core[t]=JSON.parse(JSON.stringify(r))}else if(match(t,"MULA.DA..*.LDDEC")){var r=tiedoc_core["MULA.DA.*.LDDEC"];tiedoc_core[t]=JSON.parse(JSON.stringify(r))}else if(match(t,"MULA.DD..*.LDDEC")){var r=tiedoc_core["MULA.DD.*.LDDEC"];tiedoc_core[t]=JSON.parse(JSON.stringify(r))}else if(match(t,"MULA.AD..*")){var r=tiedoc_core["MULA.AD.*"];tiedoc_core[t]=JSON.parse(JSON.stringify(r))}else if(match(t,"MUL.DA..*")){var r=tiedoc_core["MUL.DA.*"];tiedoc_core[t]=JSON.parse(JSON.stringify(r))}t in tiedoc_core?tiedoc.Proto&&tiedoc.Proto[t]&&(tiedoc.Proto[t].syn||(tiedoc.Proto[t].syn=tiedoc_core[t].syn,tiedoc.Proto[t].desc=tiedoc_core[t].Description)):delete e[t].tags.Core}if("Proto"in tiedoc)for(var o in tiedoc.Proto)o in tiedoc_core||delete tiedoc.Proto[o].tags.Core}();var slotTable=function(){var e={};for(var t in formatTable)for(var r=formatTable[t].slots,o=0;o<r.length;o++){var n=r[o];n.name in e||(e[n.name]={}),e[n.name][t]=n.bits}return e}(),slotToOpcodeTable=function(){var e={};for(var t in tiedoc.Opcode){var r=tiedoc.Opcode[t].slots;for(var o in r)o in e?e[o].push(t):e[o]=[t]}return e}(),tagChildrenTable=function(){var e={__All:{}},t=tiedoc.Group;for(var r in t){var o=t[r];if(jQuery.isEmptyObject(o.tags))e.__All[r]=0;else for(var n in o.tags)n in e||(e[n]={}),e[n][r]=0}return e}(),elemCount=function(){var e={},t=tiedoc.Group;for(var r in tiedoc)if("Group"!=r){for(var o in t)r in e||(e[r]={}),e[r][o]=Object.keys(getCatElemByTag(r,o)).length;e[r].__All=Object.keys(getCatElemByTag(r,"__All")).length}return e}(),instBypassTable=function(){var e={},t=function(t,r,o,n){t in e||(e[t]={}),r in e[t]||(e[t][r]={}),o in e[t][r]||(e[t][r][o]=[]),e[t][r][o].push(n)},r=tiedoc.Regfile;for(var o in r)for(var n=r[o].operand_bypasses,i=0;i<n.length;i++){var a=n[i].from;a.forEach(function(e){var r=e[0];if(r in instGroups){var n=instGroups[r];for(var a in n)t(a,o,e[1],i)}else t(r,o,e[1],i)})}return e}(),tiedocApp=angular.module("tiedocApp",["ngRoute"]);tiedocApp.filter("trusted",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]),tiedocApp.controller("tiedocCtrl",["$scope","$routeParams","$timeout",tiedocCtrl]).config(["$routeProvider",function(e){e.when("/",{template:home_temp,controller:"tiedocCtrl"}).when("/:category/__:tag",{template:table_temp,controller:"tiedocCtrl"}).when("/:category/__:tag/:filterItem",{template:table_temp,controller:"tiedocCtrl"}).when("/:category/:elem",{template:elem_temp,controller:"tiedocCtrl"}).when("/__signal_list",{template:siglist_temp,controller:"tiedocCtrl"}).when("/__comp_matrix",{template:comp_matrix_temp,controller:"tiedocCtrl"}).otherwise({redirectTo:"/"})}]);
