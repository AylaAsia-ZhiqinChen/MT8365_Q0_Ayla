cc_library_shared {
    name: "libgraphics2d_ext",

    srcs: [
        "src/transform/MtkTransformExt.cpp",
        "src/transform/MtkRotateHandler.cpp",
        "src/multi-thread/APthread.cpp",
        "src/multi-thread/PthreadData.cpp",
        "src/multi-thread/PthreadEvent.cpp",
        "src/multi-thread/CoWorker.cpp",
        "src/utils/ImageSegmenter.cpp",
	"src/utils/MtkCommonTools.cpp",
        "src/adapter/SkBlitterMTAdaptee.cpp",
        "src/adapter/SkBlitterMTAdapterHandler.cpp",
        "src/adapter/SkBitmapProcShaderExt.cpp",
    ],
    local_include_dirs: [
        "include/",
    ],
	include_dirs:[
		"external/skia/include/config/android/",
		"external/skia/mtk_opt/include/adapter/",
		"external/skia/include/config/",
		"external/skia/include/core/",
		"external/skia/include/pathops/",
		"external/skia/include/effects/",
		"external/skia/include/ports/",
		"external/skia/include/private/",
		"external/skia/src/sfnt/",
		"external/skia/include/utils/",
		"external/skia/src/utils/",
		"external/skia/include/gpu/",
		"external/skia/tools/flags/",
		"external/skia/src/core/",
		"external/skia/src/shaders/",
		"external/skia/src/effects/",
		"external/skia/src/image/",
		"external/skia/src/lazy/",
		"external/skia/src/images/",
		"external/skia/src/pathops/",
		"external/skia/src/gpu/",
		"external/skia/tools/",
		"external/skia/experimental/",
	],
    cflags: [
        "-Wno-unused-parameter",
        "-fexceptions",
	"-fPIC",
        "-U_FORTIFY_SOURCE",
        "-D_FORTIFY_SOURCE=1",
        "-DSKIA_IMPLEMENTATION=1",
        "-Wno-clobbered",
	"-Wno-error",
	"-D__MTK_TRACE_MT_BLITTER__",
        "-D__MTK_AFFINE_TRANSFORM_EXT__",
    ],
	cppflags:[
        "-std=c++11",
        "-fno-threadsafe-statics",
    ],
	shared_libs: [
        "libandroidicu",
        "liblog",
        "libutils",
        "libcutils",
	"libnativewindow",
    ],
    export_include_dirs: ["include/"],
}