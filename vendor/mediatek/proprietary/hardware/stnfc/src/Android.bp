// START system version
cc_library {
    arch: {
        arm: {
            instruction_set: "arm",
        },
    },
    name: "libstnfc-nci",
    owner: "mtk",
    shared_libs: [
        "libcutils",
        "liblog",
        "libdl",
        "libhardware",
        "libmetricslogger",
        "libz",
        "libchrome",
        "libbase",
        "libstatslog",

        // Treble configuration
        "libhidlbase",
        "libhidltransport",
        "libhwbinder",
        "libutils",
        "android.hardware.nfc@1.0",
        "android.hardware.nfc@1.1",
        "android.hardware.nfc@1.2",
    ],
    static_libs: [
        "libstnfcutils",
    ],
    cflags: [
        "-DBUILDCFG=1",
        "-DST21NFC",
        "-DST21NFC_DTA",
        "-Wall",
        "-Werror",
        "-Wimplicit-fallthrough",
    ],
    target: {
        vendor: {
            exclude_shared_libs: [
                "libstatslog",
                "libmetricslogger",
		        "libhidlbase",
		        "libhidltransport",
		        "libhwbinder",
		        "libutils",
		        "android.hardware.nfc@1.0",
		        "android.hardware.nfc@1.1",
		        "android.hardware.nfc@1.2",
            ],
		    cflags: [
		        "-DVENDOR_BUILD_FOR_FACTORY",
		    ],
        },
    },
	header_libs : [
		"libutils_headers",
    ],
	static: {
		cflags: ["-fvisibility=hidden"],
	},
    local_include_dirs: [
        "include",
        "gki/ulinux",
        "gki/common",
        "nfa/include",
        "nfc/include",
    ],
    export_include_dirs: [
        "include",
        "gki/ulinux",
        "gki/common",
        "nfc/include",
        "nfa/include",
    ],
    export_static_lib_headers: [
        "libstnfcutils",
    ],
    srcs: [
        "nfa/ce/*.cc",
        "nfa/dm/*.cc",
        "nfa/ee/*.cc",
        "nfa/hci/*.cc",
        "nfa/p2p/*.cc",
        "nfa/rw/*.cc",
        "nfa/sys/*.cc",
        "nfc/llcp/*.cc",
        "nfc/nci/*.cc",
        "nfc/ndef/*.cc",
        "nfc/nfc/*.cc",
        "nfc/tags/*.cc",
        "adaptation/*.cc",
        "gki/common/*.cc",
        "gki/ulinux/*.cc",
    ],
    product_variables: {
        debuggable: {
            cflags: [
                "-DDCHECK_ALWAYS_ON"
            ],
        },
    },
}
// END system version

